# üîß OPNsense Configuration Summary

**Hostname**: {{ .System.Hostname }}
**Domain**: {{ .System.Domain }}
**Platform**: OPNsense {{ .Version }}
**Generated On**: {{ .Generated }}
**Parsed By**: opnFocus v{{ .ToolVersion }}

---

## üìú Table of Contents

- [Interfaces](#interfaces)
- [Firewall Rules](#firewall-rules)
- [NAT Rules](#nat-rules)
- [DHCP Services](#dhcp-services)
- [DNS Resolver](#dns-resolver)
- [OpenVPN](#openvpn)
- [System Users](#system-users)
- [Services & Daemons](#services--daemons)
- [Tunables](#tunables)
- [System Notes](#system-notes)

---

## üåê Interfaces

| Name | Description | IP Address | CIDR | Enabled |
|------|-------------|------------|------|---------|
{{- range $name, $iface := .Interfaces.Items }}
| `{{ $name }}` | `{{ $iface.If }}` | `{{ $iface.IPAddr }}` | /{{ $iface.Subnet }} | {{ if $iface.Enable }}‚úÖ{{ else }}‚ùå{{ end }} |
{{- end }}

---

## üî• Firewall Rules

### WAN

| # | Action | Proto | Source | Destination | Description |
|---|--------|-------|--------|-------------|-------------|
{{- range $index, $rule := .Filter.Rule }}
{{- if eq $rule.Interface "wan" }}
| {{ add $index 1 }} | {{ $rule.Type }} | {{ $rule.IPProtocol }} | {{ $rule.Source.Network }} | {{ $rule.Destination.Network }} | `{{ $rule.Descr }}` |
{{- end }}
{{- end }}

### LAN

| # | Action | Proto | Source | Destination | Description |
|---|--------|-------|--------|-------------|-------------|
{{- range $index, $rule := .Filter.Rule }}
{{- if eq $rule.Interface "lan" }}
| {{ add $index 1 }} | {{ $rule.Type }} | {{ $rule.IPProtocol }} | {{ $rule.Source.Network }} | {{ $rule.Destination.Network }} | `{{ $rule.Descr }}` |
{{- end }}
{{- end }}

---

## üîÄ NAT Rules

| Interface | Protocol | Source | Destination | NAT IP | Description |
|-----------|----------|--------|-------------|--------|-------------|
{{- if .Nat.Outbound.Mode }}
| Outbound | All | Any | Any | {{ .Nat.Outbound.Mode }} | Outbound NAT |
{{- end }}

---

## üß≠ DHCP Services

| Interface | Start IP | End IP | Domain | DNS Servers |
|-----------|----------|--------|--------|--------------|
{{- range $name, $dhcp := .Dhcpd.Items }}
| {{ $name }} | {{ $dhcp.Range.From }} | {{ $dhcp.Range.To }} | - | - |
{{- end }}

### Static Leases

| Hostname | MAC Address | IP | Description |
|----------|-------------|----|-------------|
{{- $hasStaticLeases := false }}
{{- range $name, $dhcp := .Dhcpd.Items }}
{{- if $dhcp.Staticmap }}
{{- $hasStaticLeases = true }}
{{- range $dhcp.Staticmap }}
| `{{ .Hostname }}` | `{{ .Mac }}` | `{{ .IPAddr }}` | `{{ .Descr }}` |
{{- end }}
{{- end }}
{{- end }}
{{- if not $hasStaticLeases }}
| No static leases configured | - | - | - |
{{- end }}

---

## üß† DNS Resolver

- **Enabled**: {{ if .Unbound.Enable }}‚úÖ{{ else }}‚ùå{{ end }}
{{- if .Unbound.Dnssec }}
- **DNSSEC**: {{ if .Unbound.Dnssec }}‚úÖ{{ else }}‚ùå{{ end }}
{{- end }}
{{- if .Unbound.Dnssecstripped }}
- **DNSSEC Stripped**: {{ if .Unbound.Dnssecstripped }}‚úÖ{{ else }}‚ùå{{ end }}
{{- end }}

---

## üõ°Ô∏è OpenVPN

| Name | Mode | Local IP | Remote Net | Enabled |
|------|------|----------|------------|---------|
{{- if .OpenVPN.Servers }}
{{- range .OpenVPN.Servers }}
| `{{ .Description }}` | {{ .Mode }} | {{ .Local_port }} | {{ .Remote_network }} | ‚úÖ |
{{- end }}
{{- end }}
{{- if .OpenVPN.Clients }}
{{- range .OpenVPN.Clients }}
| `{{ .Description }}` | {{ .Mode }} | {{ .Server_addr }}:{{ .Server_port }} | - | ‚úÖ |
{{- end }}
{{- end }}
{{- if and (not .OpenVPN.Servers) (not .OpenVPN.Clients) }}
| No OpenVPN configured | - | - | - | ‚ùå |
{{- end }}

---

## üë• System Users

| Username | UID | Group | Shell | Disabled |
|----------|-----|-------|--------|----------|
{{- range .System.User }}
| `{{ .Name }}` | {{ .UID }} | {{ .Groupname }} | - | {{ if .Disabled.Bool }}‚úÖ{{ else }}‚ùå{{ end }} |
{{- end }}

---

## üß© Services & Daemons

| Service | Enabled | Notes |
|---------|---------|-------|
| SNMP | {{ if .Snmpd.ROCommunity }}‚úÖ{{ else }}‚ùå{{ end }} | Community: {{ .Snmpd.ROCommunity }} |
| Unbound DNS | {{ if .Unbound.Enable }}‚úÖ{{ else }}‚ùå{{ end }} | {{ if .Unbound.Dnssec }}DNSSEC: ‚úÖ{{ if .Unbound.Dnssecstripped }}, Stripped: ‚úÖ{{ end }}{{ else }}DNSSEC: ‚ùå{{ end }} |
| NTP | {{ if .Ntpd.Prefer }}‚úÖ{{ else }}‚ùå{{ end }} | Prefer: {{ .Ntpd.Prefer }} |

---

## ‚öôÔ∏è System Tunables

| Name | Value | Description |
|------|--------|-------------|
{{- range .Sysctl }}
| `{{ .Tunable }}` | `{{ .Value }}` | `{{ .Descr }}` |
{{- end }}

---

## üìù System Notes

{{- if .System.Notes }}
{{- range .System.Notes }}
    ```
    {{ . }}
    ```
{{- end }}
{{- else }}
    ```
    No system notes configured
    ```
{{- end }}

---

*Generated by opnFocus. No telemetry. No nonsense.*
